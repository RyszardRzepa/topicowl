{
  "id": "34efc04e-0d40-469a-8b22-314526a31d09",
  "prevId": "94e754d2-bb52-4931-a547-427faba9abf0",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "contentbot.article_generation": {
      "name": "article_generation",
      "schema": "contentbot",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "articleId": {
          "name": "articleId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "taskId": {
          "name": "taskId",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "progress": {
          "name": "progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "outline": {
          "name": "outline",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "scheduledAt": {
          "name": "scheduledAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "startedAt": {
          "name": "startedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "researchData": {
          "name": "researchData",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "draftContent": {
          "name": "draftContent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validationReport": {
          "name": "validationReport",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qualityControlReport": {
          "name": "qualityControlReport",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seoReport": {
          "name": "seoReport",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "writePrompt": {
          "name": "writePrompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relatedArticles": {
          "name": "relatedArticles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "selectedImageId": {
          "name": "selectedImageId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imageAttribution": {
          "name": "imageAttribution",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "imageQuery": {
          "name": "imageQuery",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imageKeywords": {
          "name": "imageKeywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "errorDetails": {
          "name": "errorDetails",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "article_generation_articleId_articles_id_fk": {
          "name": "article_generation_articleId_articles_id_fk",
          "tableFrom": "article_generation",
          "tableTo": "articles",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "articleId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "article_generation_userId_users_id_fk": {
          "name": "article_generation_userId_users_id_fk",
          "tableFrom": "article_generation",
          "tableTo": "users",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contentbot.article_settings": {
      "name": "article_settings",
      "schema": "contentbot",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "toneOfVoice": {
          "name": "toneOfVoice",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "articleStructure": {
          "name": "articleStructure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maxWords": {
          "name": "maxWords",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 800
        },
        "excludedDomains": {
          "name": "excludedDomains",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "sitemapUrl": {
          "name": "sitemapUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "article_settings_userId_users_id_fk": {
          "name": "article_settings_userId_users_id_fk",
          "tableFrom": "article_settings",
          "tableTo": "users",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contentbot.articles": {
      "name": "articles",
      "schema": "contentbot",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "targetAudience": {
          "name": "targetAudience",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "article_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'idea'"
        },
        "publishScheduledAt": {
          "name": "publishScheduledAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "publishedAt": {
          "name": "publishedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "estimatedReadTime": {
          "name": "estimatedReadTime",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "kanbanPosition": {
          "name": "kanbanPosition",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "slug": {
          "name": "slug",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metaDescription": {
          "name": "metaDescription",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metaKeywords": {
          "name": "metaKeywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "draft": {
          "name": "draft",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "videos": {
          "name": "videos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "factCheckReport": {
          "name": "factCheckReport",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "seoScore": {
          "name": "seoScore",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "internalLinks": {
          "name": "internalLinks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "sources": {
          "name": "sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "coverImageUrl": {
          "name": "coverImageUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coverImageAlt": {
          "name": "coverImageAlt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "articles_userId_users_id_fk": {
          "name": "articles_userId_users_id_fk",
          "tableFrom": "articles",
          "tableTo": "users",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contentbot.generation_queue": {
      "name": "generation_queue",
      "schema": "contentbot",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "articleId": {
          "name": "articleId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "addedToQueueAt": {
          "name": "addedToQueueAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "scheduledForDate": {
          "name": "scheduledForDate",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "queuePosition": {
          "name": "queuePosition",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "schedulingType": {
          "name": "schedulingType",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'queued'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "maxAttempts": {
          "name": "maxAttempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "processedAt": {
          "name": "processedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "generation_queue_articleId_articles_id_fk": {
          "name": "generation_queue_articleId_articles_id_fk",
          "tableFrom": "generation_queue",
          "tableTo": "articles",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "articleId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "generation_queue_userId_users_id_fk": {
          "name": "generation_queue_userId_users_id_fk",
          "tableFrom": "generation_queue",
          "tableTo": "users",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contentbot.user_credits": {
      "name": "user_credits",
      "schema": "contentbot",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_credits_userId_unique": {
          "name": "user_credits_userId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "userId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contentbot.users": {
      "name": "users",
      "schema": "contentbot",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "firstName": {
          "name": "firstName",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lastName": {
          "name": "lastName",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "companyName": {
          "name": "companyName",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "productDescription": {
          "name": "productDescription",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "onboardingCompleted": {
          "name": "onboardingCompleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "webhookUrl": {
          "name": "webhookUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhookSecret": {
          "name": "webhookSecret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhookEnabled": {
          "name": "webhookEnabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "webhookEvents": {
          "name": "webhookEvents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[\"article.published\"]'::jsonb"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contentbot.webhook_deliveries": {
      "name": "webhook_deliveries",
      "schema": "contentbot",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "articleId": {
          "name": "articleId",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "webhookUrl": {
          "name": "webhookUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "eventType": {
          "name": "eventType",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'article.published'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "maxAttempts": {
          "name": "maxAttempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "requestPayload": {
          "name": "requestPayload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "responseStatus": {
          "name": "responseStatus",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "responseBody": {
          "name": "responseBody",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deliveryTimeMs": {
          "name": "deliveryTimeMs",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "errorDetails": {
          "name": "errorDetails",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "nextRetryAt": {
          "name": "nextRetryAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retryBackoffSeconds": {
          "name": "retryBackoffSeconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "deliveredAt": {
          "name": "deliveredAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failedAt": {
          "name": "failedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "webhook_deliveries_userId_users_id_fk": {
          "name": "webhook_deliveries_userId_users_id_fk",
          "tableFrom": "webhook_deliveries",
          "tableTo": "users",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "webhook_deliveries_articleId_articles_id_fk": {
          "name": "webhook_deliveries_articleId_articles_id_fk",
          "tableFrom": "webhook_deliveries",
          "tableTo": "articles",
          "schemaTo": "contentbot",
          "columnsFrom": [
            "articleId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.article_status": {
      "name": "article_status",
      "schema": "public",
      "values": [
        "idea",
        "scheduled",
        "queued",
        "to_generate",
        "generating",
        "wait_for_publish",
        "published",
        "deleted"
      ]
    }
  },
  "schemas": {
    "contentbot": "contentbot"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}